{"version":3,"file":"tailwindcss-stimulus-components.m.js","sources":["../src/autosave.js","../src/dropdown.js","../src/modal.js","../src/tabs.js","../src/toggle.js","../src/popover.js"],"sourcesContent":["import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = ['form', 'status']\n\n  connect() {\n    this.timeout = null\n    this.duration = this.data.get('duration') || 1000\n  }\n\n  save() {\n    clearTimeout(this.timeout)\n\n    this.timeout = setTimeout(() => {\n      this.statusTarget.textContent = 'Saving...'\n      Rails.fire(this.formTarget, 'submit')\n    }, this.duration)\n  }\n\n  success() {\n    this.setStatus('Saved!')\n  }\n\n  error() {\n    this.setStatus('Unable to save!')\n  }\n\n  setStatus(message) {\n    this.statusTarget.textContent = message\n\n    this.timeout = setTimeout(() => {\n      this.statusTarget.textContent = ''\n    }, 2000)\n  }\n}\n","// Visit The Stimulus Handbook for more details\n// https://stimulusjs.org/handbook/introduction\n\n// This example controller works with specially annotated HTML like:\n\n// <div class=\"relative\" data-controller=\"dropdown\">\n//  <div data-action=\"click->dropdown#toggle click@window->dropdown#hide\" role=\"button\" class=\"inline-block select-none\">\n//    Open Dropdown\n//  </div>\n//  <div data-target=\"dropdown.menu\" class=\"absolute pin-r mt-2 hidden\">\n//    <div class=\"bg-white shadow rounded border overflow-hidden\">\n//      Content\n//    </div>\n//  </div>\n// </div>\n\nimport { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = ['menu']\n\n  connect() {\n    this.toggleClass = this.data.get('class') || 'hidden'\n  }\n\n  toggle() {\n    this.menuTarget.classList.toggle(this.toggleClass)\n  }\n\n  hide(event) {\n    if (\n      this.element.contains(event.target) === false &&\n      !this.menuTarget.classList.contains(this.toggleClass)\n    ) {\n      this.menuTarget.classList.add(this.toggleClass)\n    }\n  }\n}\n","// Visit The Stimulus Handbook for more details\n// https://stimulusjs.org/handbook/introduction\n//\n// This example controller works with specially annotated HTML like:\n//\n//<div data-controller=\"modal\" data-modal-allow-background-close=\"false\">\n  //<a href=\"#\" data-action=\"click->modal#open\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded\">\n    //<span>Open Modal</span>\n  //</a>\n\n  //<!-- Modal Container -->\n  //<div data-target=\"modal.container\" data-action=\"click->modal#closeBackground keyup@window->modal#closeWithKeyboard\" class=\"hidden animated fadeIn fixed inset-0 overflow-y-auto flex items-center justify-center\" style=\"z-index: 9999;\">\n    //<!-- Modal Inner Container -->\n    //<div class=\"max-h-screen w-full max-w-lg relative\">\n      //<!-- Modal Card -->\n      //<div class=\"m-1 bg-white rounded shadow\">\n        //<div class=\"p-8\">\n          //<h2 class=\"text-xl mb-4\">Large Modal Content</h2>\n          //<p class=\"mb-4\">This is an example modal dialog box.</p>\n\n          //<div class=\"flex justify-end items-center flex-wrap mt-6\">\n            //<button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" data-action=\"click->modal#close\">Close</button>\n          //</div>\n        //</div>\n      //</div>\n    //</div>\n  //</div>\n//</div>\n\nimport { Controller } from 'stimulus';\n\nexport default class extends Controller {\n  static targets = ['container'];\n\n  connect() {\n    // The class we should toggle on the container\n    this.toggleClass = this.data.get('class') || 'hidden';\n\n    // The HTML for the background element\n    this.backgroundHtml = this.data.get('backgroundHtml') || this._backgroundHTML();\n\n    // The ID of the background to hide/remove\n    this.backgroundId = this.data.get('backgroundId') || 'modal-background';\n\n    // Let the user close the modal by clicking on the background\n    this.allowBackgroundClose = (this.data.get('allowBackgroundClose') || 'true') === 'true';\n\n    // Prevent the default action of the clicked element (following a link for example) when opening the modal\n    this.preventDefaultActionOpening = (this.data.get('preventDefaultActionOpening') || 'true') === 'true';\n\n    // Prevent the default action of the clicked element (following a link for example) when closing the modal\n    this.preventDefaultActionClosing = (this.data.get('preventDefaultActionClosing') || 'true') === 'true';\n  }\n\n  disconnect() {\n    this.close();\n  }\n\n  open(e) {\n    if (this.preventDefaultActionOpening) {\n      e.preventDefault();\n    }\n\n    e.target.blur();\n\n    // Lock the scroll and save current scroll position\n    this.lockScroll();\n\n    // Unhide the modal\n    this.containerTarget.classList.remove(this.toggleClass);\n\n    // Insert the background\n    if (!this.data.get(\"disable-backdrop\")) {\n      document.body.insertAdjacentHTML('beforeend', this.backgroundHtml);\n      this.background = document.querySelector(`#${this.backgroundId}`);\n    }\n  }\n\n  close(e) {\n    if (e && this.preventDefaultActionClosing) {\n      e.preventDefault();\n    }\n\n    // Unlock the scroll and restore previous scroll position\n    this.unlockScroll();\n\n    // Hide the modal\n    this.containerTarget.classList.add(this.toggleClass);\n\n    // Remove the background\n    if (this.background) { this.background.remove() }\n  }\n\n  closeBackground(e) {\n    if (this.allowBackgroundClose && e.target === this.containerTarget) {\n      this.close(e);\n    }\n  }\n\n  closeWithKeyboard(e) {\n    if (e.keyCode === 27 && !this.containerTarget.classList.contains(this.toggleClass)) {\n      this.close(e);\n    }\n  }\n\n  _backgroundHTML() {\n    return '<div id=\"modal-background\" class=\"fixed top-0 left-0 w-full h-full\" style=\"background-color: rgba(0, 0, 0, 0.8); z-index: 9998;\"></div>';\n  }\n\n  lockScroll() {\n    // Add right padding to the body so the page doesn't shift\n    // when we disable scrolling\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    document.body.style.paddingRight = `${scrollbarWidth}px`;\n\n    // Save the scroll position\n    this.saveScrollPosition();\n\n    // Add classes to body to fix its position\n    document.body.classList.add('fixed', 'inset-x-0', 'overflow-hidden');\n\n    // Add negative top position in order for body to stay in place\n    document.body.style.top = `-${this.scrollPosition}px`;\n  }\n\n  unlockScroll() {\n    // Remove tweaks for scrollbar\n    document.body.style.paddingRight = null;\n\n    // Remove classes from body to unfix position\n    document.body.classList.remove('fixed', 'inset-x-0', 'overflow-hidden');\n\n    // Restore the scroll position of the body before it got locked\n    this.restoreScrollPosition();\n\n    // Remove the negative top inline style from body\n    document.body.style.top = null;\n  }\n\n  saveScrollPosition() {\n    this.scrollPosition = window.pageYOffset || document.body.scrollTop;\n  }\n\n  restoreScrollPosition() {\n    document.documentElement.scrollTop = this.scrollPosition;\n  }\n}\n","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = ['tab', 'panel']\n\n  connect() {\n    this.activeTabClasses = (this.data.get('activeTab') || 'active').split(' ')\n    this.inactiveTabClasses = (this.data.get('inactiveTab') || 'inactive').split(' ')\n    if (this.anchor) this.index = this.tabTargets.findIndex((tab) => tab.id === this.anchor)\n    this.showTab()\n  }\n\n  change(event) {\n    event.preventDefault()\n\n    // If target specifies an index, use that\n    if (event.currentTarget.dataset.index) {\n      this.index = event.currentTarget.dataset.index\n\n    // If target specifies an index, use that\n    } else if (event.currentTarget.dataset.id) {\n      console.log(this.tabTargets[0].id, event.currentTarget.dataset.id)\n      this.index = this.tabTargets.findIndex((tab) => tab.id == event.currentTarget.dataset.id)\n\n    // Otherwise, use the index of the current target\n    } else {\n      this.index = this.tabTargets.indexOf(event.currentTarget)\n    }\n\n    window.dispatchEvent(new CustomEvent('tsc:tab-change'))\n  }\n\n  showTab() {\n    this.tabTargets.forEach((tab, index) => {\n      const panel = this.panelTargets[index]\n\n      if (index === this.index) {\n        panel.classList.remove('hidden')\n        tab.classList.remove(...this.inactiveTabClasses)\n        tab.classList.add(...this.activeTabClasses)\n\n        // Update URL with the tab ID if it has one\n        // This will be automatically selected on page load\n        if (tab.id) {\n          event.preventDefault()\n          location.hash = tab.id\n        }\n      } else {\n        panel.classList.add('hidden')\n        tab.classList.remove(...this.activeTabClasses)\n        tab.classList.add(...this.inactiveTabClasses)\n      }\n    })\n  }\n\n  get index() {\n    return parseInt(this.data.get('index') || 0)\n  }\n\n  set index(value) {\n    this.data.set('index', (value >= 0 ? value : 0))\n    this.showTab()\n  }\n\n  get anchor() {\n    return (document.URL.split('#').length > 1) ? document.URL.split('#')[1] : null;\n  }\n}\n","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = ['toggleable']\n\n  connect() {\n    this.toggleClass = this.data.get('class') || 'hidden'\n  }\n\n  toggle(event) {\n    event.preventDefault()\n\n    this.toggleableTargets.forEach(target => {\n      target.classList.toggle(this.toggleClass)\n    })\n  }\n}\n","// A simple inline popover to be used wherever needed, with a configurable offset.\n// Visit The Stimulus Handbook for more details\n// https://stimulusjs.org/handbook/introduction\n//\n// This example controller works with specially annotated HTML like:\n//\n//<p>\n//  Beginning in 2015, Google introduced what is called the\n//    <div class=\"popover inline-block\" data-controller=\"popover\" data-popover-translate-x=\"0\" data-popover-translate-y=\"-128%\" data-action=\"mouseover->popover#mouseOver mouseout->popover#mouseOut\">\n//      <span class=\"underline\">'local snack pack',</span>\n//      <div class=\"content hidden absolute max-w-xs bg-grey-light rounded p-2\" data-target=\"popover.content\">\n//        Terrible name - we know. But the biggest name in SEO came up with it.\n//      </div>\n//    </div>\n//  which shows you local search results before normal organic results.\n//</p>\n\nimport { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = ['content']\n\n  // Sets the popover offset using Stimulus data map objects.\n  initialize() {\n    this.contentTarget.setAttribute(\n      'style',\n      `transform:translate(${this.data.get('translateX')}, ${this.data.get('translateY')});`,\n    )\n  }\n\n  // Show the popover\n  mouseOver() {\n    this.contentTarget.classList.remove('hidden')\n  }\n  // Hide the popover\n  mouseOut() {\n    this.contentTarget.classList.add('hidden')\n  }\n}\n"],"names":["connect","this","timeout","duration","data","get","save","clearTimeout","setTimeout","_this","statusTarget","textContent","Rails","fire","formTarget","success","setStatus","error","message","_this2","Controller","targets","toggleClass","toggle","menuTarget","classList","hide","event","element","contains","target","add","backgroundHtml","_backgroundHTML","backgroundId","allowBackgroundClose","preventDefaultActionOpening","preventDefaultActionClosing","disconnect","close","open","e","preventDefault","blur","lockScroll","containerTarget","remove","document","body","insertAdjacentHTML","background","querySelector","unlockScroll","closeBackground","closeWithKeyboard","keyCode","scrollbarWidth","window","innerWidth","documentElement","clientWidth","style","paddingRight","saveScrollPosition","top","scrollPosition","restoreScrollPosition","pageYOffset","scrollTop","activeTabClasses","split","inactiveTabClasses","anchor","index","tabTargets","findIndex","tab","id","showTab","change","currentTarget","dataset","console","log","indexOf","dispatchEvent","CustomEvent","forEach","panel","panelTargets","location","hash","parseInt","value","set","URL","length","toggleableTargets","initialize","contentTarget","setAttribute","mouseOver","mouseOut"],"mappings":"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"}