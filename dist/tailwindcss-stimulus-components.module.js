var L=Object.defineProperty;var I=(t,e,a)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var s=(t,e,a)=>(I(t,typeof e!="symbol"?e+"":e,a),a);import{Controller as B}from"@hotwired/stimulus";async function i(t,e,a=null){e?await u(t,a):await h(t,a)}async function u(t,e=null){t.classList.remove("hidden"),await D("enter",t,e)}async function h(t,e=null){await D("leave",t,e),t.classList.add("hidden")}async function D(t,e,a){let o=e.dataset,d=a?`${a}-${t}`:t,n=`transition${t.charAt(0).toUpperCase()+t.slice(1)}`,w=o[n]?o[n].split(" "):[d],C=o[`${n}From`]?o[`${n}From`].split(" "):[`${d}-from`],S=o[`${n}To`]?o[`${n}To`].split(" "):[`${d}-to`],f=[],A=new Set(e.classList.values());w.forEach(r=>A.has(r)&&f.push(r)),C.forEach(r=>A.has(r)&&f.push(r)),S.forEach(r=>A.has(r)&&f.push(r)),V(e,f),x(e,w),x(e,C),await k(),V(e,C),x(e,S),await P(e),V(e,S),V(e,w),x(e,f)}function x(t,e){t.classList.add(...e)}function V(t,e){t.classList.remove(...e)}function k(){return new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(t)})})}function P(t){return Promise.all(t.getAnimations().map(e=>e.finished))}var p=class extends B{connect(){setTimeout(()=>{u(this.element)},this.showDelayValue),this.hasDismissAfterValue&&setTimeout(()=>{this.close()},this.dismissAfterValue)}close(){h(this.element).then(()=>{this.element.remove()})}};s(p,"values",{dismissAfter:Number,removeDelay:{type:Number,default:1100}}),s(p,"classes",["show","hide"]);import{Controller as E}from"@hotwired/stimulus";var m=class extends E{connect(){this.timeout=null}save(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.statusTarget.textContent=this.submittingTextValue,this.formTarget.requestSubmit()},this.submitDurationValue)}success(){this.setStatus(this.successTextValue)}error(){this.setStatus(this.errorTextValue)}setStatus(t){this.statusTarget.textContent=t,this.timeout=setTimeout(()=>{this.statusTarget.textContent=""},this.statusDurationValue)}};s(m,"targets",["form","status"]),s(m,"values",{submitDuration:{type:Number,default:1e3},statusDuration:{type:Number,default:2e3},submittingText:{type:String,default:"Saving..."},successText:{type:String,default:"Saved!"},errorText:{type:String,default:"Unable to save."}});import{Controller as $}from"@hotwired/stimulus";var l=class extends ${connect(){this.hasButtonTarget&&(this.buttonTarget.addEventListener("keydown",this._onMenuButtonKeydown),this.buttonTarget.setAttribute("aria-haspopup","true"))}disconnect(){this.hasButtonTarget&&(this.buttonTarget.removeEventListener("keydown",this._onMenuButtonKeydown),this.buttonTarget.removeAttribute("aria-haspopup"))}openValueChanged(){i(this.menuTarget,this.openValue)}show(){this.openValue=!0}hide(t){this.element.contains(t.target)===!1&&this.openValue&&(this.openValue=!1)}toggle(){this.openValue=!this.openValue}};s(l,"targets",["menu","button"]),s(l,"values",{open:Boolean,default:!1});import{Controller as W}from"@hotwired/stimulus";var g=class extends W{disconnect(){this.close()}open(){this.openValue=!0}close(){this.openValue=!1}closeBackground(t){t.target===this.containerTarget&&this.close()}openValueChanged(){this.openValue?(this.containerTarget.focus(),this.lockScroll(),u(this.backgroundTarget),u(this.containerTarget)):(this.unlockScroll(),h(this.containerTarget),h(this.backgroundTarget))}lockScroll(){let t=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${t}px`,document.body.classList.add("fixed","inset-x-0","overflow-hidden"),this.restoreScrollValue&&(this.saveScrollPosition(),document.body.style.top=`-${this.scrollPosition}px`)}unlockScroll(){document.body.style.paddingRight=null,document.body.classList.remove("fixed","inset-x-0","overflow-hidden"),this.restoreScrollValue&&(this.restoreScrollPosition(),document.body.style.top=null)}saveScrollPosition(){this.scrollPosition=window.pageYOffset||document.body.scrollTop}restoreScrollPosition(){this.scrollPosition!==void 0&&(document.documentElement.scrollTop=this.scrollPosition)}};s(g,"targets",["container","background"]),s(g,"values",{open:{type:Boolean,default:!1},restoreScroll:{type:Boolean,default:!0}});import{Controller as q}from"@hotwired/stimulus";var c=class extends q{connect(){this.anchor&&(this.indexValue=this.tabTargets.findIndex(t=>t.id===this.anchor)),this.showTab()}change(t){t.currentTarget.dataset.index?this.indexValue=t.currentTarget.dataset.index:t.currentTarget.dataset.id?this.indexValue=this.tabTargets.findIndex(e=>e.id==t.currentTarget.dataset.id):this.indexValue=this.tabTargets.indexOf(t.currentTarget),window.dispatchEvent(new CustomEvent("tsc:tab-change"))}showTab(){this.tabTargets.forEach((t,e)=>{let a=this.panelTargets[e];e===this.indexValue?(a.classList.remove("hidden"),this.hasInactiveTabClass&&t.classList.remove(...this.inactiveTabClasses),this.hasActiveTabClass&&t.classList.add(...this.activeTabClasses)):(a.classList.add("hidden"),this.hasActiveTabClass&&t.classList.remove(...this.activeTabClasses),this.hasInactiveTabClass&&t.classList.add(...this.inactiveTabClasses))})}indexValueChanged(){this.showTab(),this.updateUrlAnchorValue&&(location.hash=this.tabTargets[this.indexValue].id)}get anchor(){return document.URL.split("#").length>1?document.URL.split("#")[1]:null}};s(c,"classes",["activeTab","inactiveTab"]),s(c,"targets",["tab","panel"]),s(c,"values",{index:0,updateUrlAnchor:Boolean});import{Controller as U}from"@hotwired/stimulus";var T=class extends U{toggle(t){this.openValue=!this.openValue}hide(){this.openValue=!1}show(){this.openValue=!0}openValueChanged(){this.toggleableTargets.forEach(t=>{i(t,this.openValue)})}};s(T,"targets",["toggleable"]),s(T,"values",{open:{type:Boolean,default:!1}});import{Controller as F}from"@hotwired/stimulus";var v=class extends F{openValueChanged(){i(this.contentTarget,this.openValue),this.shouldAutoDismiss&&this.scheduleDismissal()}show(t){this.shouldAutoDismiss&&this.scheduleDismissal(),this.openValue=!0}hide(){this.openValue=!1}toggle(){this.openValue=!this.openValue}get shouldAutoDismiss(){return this.openValue&&this.hasDismissAfterValue}scheduleDismissal(){this.hasDismissAfterValue&&(this.cancelDismissal(),this.timeoutId=setTimeout(()=>{this.hide(),this.timeoutId=void 0},this.dismissAfterValue))}cancelDismissal(){typeof this.timeoutId=="number"&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}};s(v,"targets",["content"]),s(v,"values",{dismissAfter:Number,open:{type:Boolean,default:!1}});var y=class extends l{openValueChanged(){i(this.overlayTarget,this.openValue),i(this.menuTarget,this.openValue)}};s(y,"targets",["menu","overlay"]);import{Controller as R}from"@hotwired/stimulus";var b=class extends R{update(){this.preview=this.colorTarget.value}set preview(t){this.previewTarget.style[this.styleValue]=t;let e=this._getContrastYIQ(t);this.styleValue==="color"?this.previewTarget.style.backgroundColor=e:this.previewTarget.style.color=e}_getContrastYIQ(t){t=t.replace("#","");let e=128,a=parseInt(t.substr(0,2),16),o=parseInt(t.substr(2,2),16),d=parseInt(t.substr(4,2),16);return(a*299+o*587+d*114)/1e3>=e?"#000":"#fff"}};s(b,"targets",["preview","color"]),s(b,"values",{style:{type:String,default:"backgroundColor"}});export{p as Alert,m as Autosave,b as ColorPreview,l as Dropdown,g as Modal,v as Popover,y as Slideover,c as Tabs,T as Toggle};
